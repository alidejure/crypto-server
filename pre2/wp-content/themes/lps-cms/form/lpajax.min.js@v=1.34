var urlParams,win=window;function addThankyouInput(){$(".mainForm").append('<input type="hidden" name="thankyou_active" value="active" />')}(win.onpopstate=function(){var a,e=/\+/g,n=/([^&=]+)=?([^&]*)/g,t=function(a){return decodeURIComponent(escape(a).replace(e," "))},r=win.location.search.substring(1);for(urlParams={};a=n.exec(r);)urlParams[t(a[1])]=t(a[2])})(),url_campid=urlParams.campaignId||"",url_tr = urlParams.tr||"",url_str = urlParams.str||"",url_tid=urlParams.tid||urlParams.tlid||"0",url_affid=urlParams.aff||"",url_euid=urlParams.euid||"0",url_pubid=urlParams.pubId||urlParams.pubid||"",url_grp=urlParams.grp||"",url_email=urlParams.eml||"",url_fname=urlParams.fnm||"",url_phone=urlParams.phn||"",url_country=urlParams.cntr||"",url_lname=urlParams.lnm||"",url_affTrack=urlParams.affTrack||"",url_affToken=urlParams.affToken||"",url_affTags=urlParams.affTags||urlParams.affTag||"",url_tc=urlParams.tc||urlParams.TC||"",url_clickid=urlParams.clickid||"",""!=url_fname||""!=url_lname?url_name=url_lname+" "+url_fname:url_name="",jQuery(document).ready(function(a){var e,n=a("html").attr("class");if("1"==url_tc&&a("#footer_disclaimer").hide(),"geniusmethod.biz"==window.location.hostname)t=(t=location.search).replace("?",""),0!==a("input[name=queryParams]").length&&a("input[name=queryParams]").length||a("form").each(function(){a(this).append('<input type="hidden" name="thankyou_active" value="active" />'),e="en"==n?"https://geniusmethod.biz/thanks":"https://geniusmethod.biz/"+n+"/thanks",a(this).append('<input type="hidden" name="thankyouPage" value="'+e+'" />'),a(this).get(0).setAttribute("action","/wp-content/themes/lps-cms/form/ajax_action_genius.php"),a(this).append('<input type="hidden" name="queryParams" value="'+t+'" />'),"undefined"==typeof url_affTrack||""==url_affTrack?a(this).append('<input type="hidden" name="affTrack" value="1000627" />'):a(this).append('<input type="hidden" name="affTrack" value="'+url_affTrack+'" />'),"undefined"==typeof url_affToken||""==url_affToken?a(this).append('<input type="hidden" name="affToken" value="EEB28D697C" />'):a(this).append('<input type="hidden" name="affToken" value="'+url_affToken+'" />'),"undefined"==typeof url_affTags||""==url_affTags?a(this).append('<input type="hidden" name="affTags" value="'+window.top.location.href+'" />'):(decodeURIComponent(url_affTags),a(this).append('<input type="hidden" name="affTags" value="'+window.top.location.hostname+window.top.location.pathname+" , "+url_affTags+'" />')),"undefined"!=typeof url_clickid&&a(this).append('<input type="hidden" name="affClickId" value="'+url_clickid+'" />')}),window.location.pathname.includes("iframe")||window.history.pushState({},document.title,window.location.pathname);else if("xtrade"==brand||"ainvestments"==brand){var t;t=(t=location.search).replace("?",""),0!==a("input[name=queryParams]").length&&a("input[name=queryParams]").length||a("form").each(function(){a(this).append('<input type="hidden" name="queryParams" value="'+t+'" />')})}"UK"!=url_country&&"uk"!=url_country||(url_country="GB"),isNaN(url_country)?2==url_country.length&&a(".form_elem_countryId option").each(function(){a(this).attr("value").toLowerCase()!=url_country.toLowerCase()||a(this).attr("selected","selected").change()}):a(".form_elem_countryId option").each(function(){a(this).attr("cnCode")!=url_country||a(this).attr("selected","selected").change()}),"0"!=url_tid&&(document.getElementById("retargeting_frame").src="/wp-content/themes/lps-cms/pixels/retargeting.php/?trackingid="+url_tid),a(".campaignId").each(function(){a(this).val(url_campid)}),a(".tracking").each(function(){a(this).val(url_tr)}),a(".subtracking").each(function(){a(this).val(url_str)}),a(".trackingLinkId").each(function(){a(this).val(url_tid)}),a(".affiliateId").each(function(){a(this).val(url_affid)}),a(".euid").each(function(){a(this).val(url_euid)}),a(".pubid").each(function(){a(this).val(url_pubid)}),a(".grp").each(function(){a(this).val(url_grp)}),a(".form_elem_customerLeadEmail").each(function(){a(this).val(url_email)}),a(".form_elem_fullName").each(function(){a(this).val(url_name)}),a(".form_elem_phoneNumber").each(function(){a(this).val(url_phone)}),a(".affTrack").each(function(){a(this).val(url_affTrack)}),a(".affToken").each(function(){a(this).val(url_affToken)}),a(".affTags").each(function(){a(this).val(url_affTags)}),a(".affClickId").each(function(){a(this).val(url_clickid)});
$("#gcid").length||$("form").each(function(){$(this).append('<input type="hidden" value="" name="gcid" id="gcid" class="gcid">')});var gcid="";"undefined"!=typeof ga&&ga.getAll&&ga.getAll().length?gcid=ga.getAll()[0].get("clientId"):document.cookie.match(/_ga=(.+?);/)&&(gcid=document.cookie.match(/_ga=(.+?);/)[1].split(".").slice(-2).join(".")),$(".gcid").each(function(){$(this).val(gcid)});
var r=a("#sendData"),i=(a("#customerLeadFirstName"),a("#customerLeadLastName"),a(".form_elem_fullName")),l=a(".form_elem_customerLeadEmail"),u=a(".form_elem_countryId"),o=a(".form_elem_countryCode"),s=(a(".form_elem_phoneNumber"),a(".areaCode"),a("#lang"),a(".trackingLinkId"),a(".euid"));1==urlParams.go_tr&&a(".mainForm").append('<input type="hidden" name="go_tr" value="1" />'),1==urlParams.go_net&&a(".mainForm").append('<input type="hidden" name="go_net" value="1" />'),1==urlParams.go_plt&&a(".mainForm").append('<input type="hidden" name="go_plt" value="1" />');var d={aRestr:rest_countries,validationErrors:[],validationFailed:!1,resetValidations:function(){this.validationErrors=[],this.validationFailed=!1},cntrChangeHandler:function(a,e){if(this.checkRestrCountryId(a.val()))return this.restrictionPopUp(a.val()),e.val(""),a.val("").blur(),!1;e.val(a.find("option:selected").attr("cncode"))},checkRestrCountryId:function(e){return a.inArray(e,this.aRestr)>-1},restrictionPopUp:function(a){popupRestGeo(a)},validateField:function(a,e,n,t,r,i){var l,u=a.val(),o="";if(void 0===u)return a.val(n),!0;if(""==u){if(!i)return a.val(n),!0;o="empty"}else if((l=u.length)<t)o="too-short";else if(l>r)o="too-long";else{var s;switch(e){case"vNumber":s=/^[+]?\d*$/;break;case"vEmail":s=/^[a-zA-Z0-9_\-]+(\.?[a-zA-Z0-9_\-])+\@([a-zA-Z0-9\-]+\.)+[a-zA-Z]{2,4}$/;break;case"vNoSpecialChars":s=/^[a-zA-z]+\s?[a-zA-z]+$/;break;case"vName":var c="[\\p{L}\\p{Devanagari}\\p{Tamil}\\p{Thai}]";s=XRegExp("^(\\s?"+c+"(\\-?"+c+")*)+\\s?$");break;case"vEnglishLetters":s=/^[a-zA-Z\ \']+$/}if(!s||s.test(u))return!0;o="validation-failed"}return""!=o?(this.validationErrors[a.attr("id")]=o,this.validationFailed=!0,!1):void 0}};u.change(function(e){d.cntrChangeHandler(a(this),o)}).keyup(function(e){13==e.keyCode&&d.cntrChangeHandler(a(this),o)}),r.click(function(){if(d.resetValidations(),i.length,d.validateField(l,"vEmail","wrong email",5,50,1),d.validationFailed){if(win.locale){for(var e in d.validationErrors)locale[e]+" "+locale[d.validationErrors[e]]+"\n"}}else { a("#mainForm").submit(); } })});